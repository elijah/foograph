<html>
<title>Testing grounds.</title>
<head>
<script type="text/javascript" src="wz_jsgraphics.js"></script>
<script type="text/javascript" src="graph.js"></script>
<script type="text/javascript" src="layout.js"></script>
</head>
<body>
Lo and behold!<br>
<select id="algo" onchange="paint()">
  <option>Select algorithm</option>
  <option>Random</option>
  <option>Circular</option>
  <option>Fruchterman-Reingold</option>
  <option>Rooted Tree</option>
</select>
<div id="canvas" style="position:relative;height:400px;width:400px;"></div>
<script type="text/javascript">
<!--
/* Put together a simple graph. */
var g = new Graph("Simple graph", true);
v43 = new Vertex("malloc", null, null, -1, -1);
v35 = new Vertex("xflsbuf", null, null, -1, -1);
v19 = new Vertex("creat", null, null, -1, -1);
v51 = new Vertex("umul", null, null, -1, -1);
v49 = new Vertex("putfreehdr", null, null, -1, -1);
v10 = new Vertex("fclose", null, null, -1, -1);
v33 = new Vertex("cmpa", null, null, -1, -1);
v12 = new Vertex("brk", null, null, -1, -1);
v21 = new Vertex("oldfile", null, null, -1, -1);
v11 = new Vertex("close", null, null, -1, -1);
v34 = new Vertex("flsbuf", null, null, -1, -1);
v31 = new Vertex("fopen", null, null, -1, -1);
v40 = new Vertex("open", null, null, -1, -1);
v15 = new Vertex("initree", null, null, -1, -1);
v9 = new Vertex("newfile", null, null, -1, -1);
v36 = new Vertex("write", null, null, -1, -1);
v44 = new Vertex("morecore", null, null, -1, -1);
v52 = new Vertex("sigvec", null, null, -1, -1);
v59 = new Vertex("strlen", null, null, -1, -1);
v25 = new Vertex("qsort", null, null, -1, -1);
v57 = new Vertex("doprnt", null, null, -1, -1);
v22 = new Vertex("msort", null, null, -1, -1);
v0 = new Vertex("start", null, null, -1, -1);
v38 = new Vertex("exit", null, null, -1, -1);
v17 = new Vertex("getpid", null, null, -1, -1);
v20 = new Vertex("rem", null, null, -1, -1);
v16 = new Vertex("safeoutfil", null, null, -1, -1);
v2 = new Vertex("on_exit", null, null, -1, -1);
v1 = new Vertex("main", null, null, -1, -1);
v18 = new Vertex("sprintf", null, null, -1, -1);
v3 = new Vertex("sort", null, null, -1, -1);
v48 = new Vertex("getpagesize", null, null, -1, -1);
v42 = new Vertex("fflush", null, null, -1, -1);
v46 = new Vertex("getfreehdr", null, null, -1, -1);
v53 = new Vertex("moncontrol", null, null, -1, -1);
v27 = new Vertex("wline", null, null, -1, -1);
v14 = new Vertex("copyproto", null, null, -1, -1);
v47 = new Vertex("free", null, null, -1, -1);
v58 = new Vertex("urem", null, null, -1, -1);
v30 = new Vertex("rline", null, null, -1, -1);
v32 = new Vertex("mul", null, null, -1, -1);
v13 = new Vertex("setbuf", null, null, -1, -1);
v8 = new Vertex("unlink", null, null, -1, -1);
v29 = new Vertex("cmpsave", null, null, -1, -1);
v50 = new Vertex("udiv", null, null, -1, -1);
v26 = new Vertex("insert", null, null, -1, -1);
v5 = new Vertex("term", null, null, -1, -1);
v24 = new Vertex("setfil", null, null, -1, -1);
v7 = new Vertex("sbrk", null, null, -1, -1);
v37 = new Vertex("read", null, null, -1, -1);
v6 = new Vertex("signal", null, null, -1, -1);
v41 = new Vertex("findiop", null, null, -1, -1);
v60 = new Vertex("localeconv", null, null, -1, -1);
v55 = new Vertex("sigblock", null, null, -1, -1);
v4 = new Vertex("merge", null, null, -1, -1);
v39 = new Vertex("endopen", null, null, -1, -1);
v56 = new Vertex("sigsetmask", null, null, -1, -1);
v28 = new Vertex("div", null, null, -1, -1);
v54 = new Vertex("profil", null, null, -1, -1);
v45 = new Vertex("demote", null, null, -1, -1);
v23 = new Vertex("filbuf", null, null, -1, -1);
g.insertVertex(v43);
g.insertVertex(v35);
g.insertVertex(v19);
g.insertVertex(v51);
g.insertVertex(v49);
g.insertVertex(v10);
g.insertVertex(v33);
g.insertVertex(v12);
g.insertVertex(v21);
g.insertVertex(v11);
g.insertVertex(v34);
g.insertVertex(v31);
g.insertVertex(v40);
g.insertVertex(v15);
g.insertVertex(v9);
g.insertVertex(v36);
g.insertVertex(v44);
g.insertVertex(v52);
g.insertVertex(v59);
g.insertVertex(v25);
g.insertVertex(v57);
g.insertVertex(v22);
g.insertVertex(v0);
g.insertVertex(v38);
g.insertVertex(v17);
g.insertVertex(v20);
g.insertVertex(v16);
g.insertVertex(v2);
g.insertVertex(v1);
g.insertVertex(v18);
g.insertVertex(v3);
g.insertVertex(v48);
g.insertVertex(v42);
g.insertVertex(v46);
g.insertVertex(v53);
g.insertVertex(v27);
g.insertVertex(v14);
g.insertVertex(v47);
g.insertVertex(v58);
g.insertVertex(v30);
g.insertVertex(v32);
g.insertVertex(v13);
g.insertVertex(v8);
g.insertVertex(v29);
g.insertVertex(v50);
g.insertVertex(v26);
g.insertVertex(v5);
g.insertVertex(v24);
g.insertVertex(v7);
g.insertVertex(v37);
g.insertVertex(v6);
g.insertVertex(v41);
g.insertVertex(v60);
g.insertVertex(v55);
g.insertVertex(v4);
g.insertVertex(v39);
g.insertVertex(v56);
g.insertVertex(v28);
g.insertVertex(v54);
g.insertVertex(v45);
g.insertVertex(v23);
g.insertEdge("", 1, v1, v21);
g.insertEdge("", 1, v1, v3);
g.insertEdge("", 1, v10, v11);
g.insertEdge("", 1, v4, v8);
g.insertEdge("", 1, v5, v6);
g.insertEdge("", 1, v30, v23);
g.insertEdge("", 1, v22, v26);
g.insertEdge("", 1, v46, v7);
g.insertEdge("", 1, v1, v17);
g.insertEdge("", 1, v4, v27);
g.insertEdge("", 1, v1, v15);
g.insertEdge("", 1, v53, v54);
g.insertEdge("", 1, v23, v37);
g.insertEdge("", 1, v1, v6);
g.insertEdge("", 1, v44, v48);
g.insertEdge("", 1, v4, v31);
g.insertEdge("", 1, v1, v11);
g.insertEdge("", 1, v42, v35);
g.insertEdge("", 1, v52, v55);
g.insertEdge("", 1, v1, v20);
g.insertEdge("", 1, v44, v46);
g.insertEdge("", 1, v3, v24);
g.insertEdge("", 1, v57, v58);
g.insertEdge("", 1, v18, v57);
g.insertEdge("", 1, v22, v27);
g.insertEdge("", 1, v1, v16);
g.insertEdge("", 1, v10, v42);
g.insertEdge("", 1, v1, v14);
g.insertEdge("", 1, v4, v13);
g.insertEdge("", 1, v1, v5);
g.insertEdge("", 1, v44, v49);
g.insertEdge("", 1, v5, v8);
g.insertEdge("", 1, v3, v23);
g.insertEdge("", 1, v1, v10);
g.insertEdge("", 1, v22, v28);
g.insertEdge("", 1, v9, v24);
g.insertEdge("", 1, v35, v36);
g.insertEdge("", 1, v47, v26);
g.insertEdge("", 1, v43, v45);
g.insertEdge("", 1, v4, v10);
g.insertEdge("", 1, v57, v59);
g.insertEdge("", 1, v31, v39);
g.insertEdge("", 1, v26, v33);
g.insertEdge("", 1, v3, v13);
g.insertEdge("", 1, v3, v10);
g.insertEdge("", 1, v1, v13);
g.insertEdge("", 1, v4, v24);
g.insertEdge("", 1, v2, v43);
g.insertEdge("", 1, v44, v47);
g.insertEdge("", 1, v1, v4);
g.insertEdge("", 1, v44, v50);
g.insertEdge("", 1, v1, v19);
g.insertEdge("", 1, v5, v24);
g.insertEdge("", 1, v1, v9);
g.insertEdge("", 1, v22, v29);
g.insertEdge("", 1, v9, v31);
g.insertEdge("", 1, v43, v44);
g.insertEdge("", 1, v24, v28);
g.insertEdge("", 1, v24, v20);
g.insertEdge("", 1, v0, v1);
g.insertEdge("", 1, v4, v29);
g.insertEdge("", 1, v22, v25);
g.insertEdge("", 1, v26, v46);
g.insertEdge("", 1, v1, v12);
g.insertEdge("", 1, v3, v22);
g.insertEdge("", 1, v31, v41);
g.insertEdge("", 1, v5, v38);
g.insertEdge("", 1, v39, v40);
g.insertEdge("", 1, v44, v7);
g.insertEdge("", 1, v52, v56);
g.insertEdge("", 1, v6, v52);
g.insertEdge("", 1, v44, v51);
g.insertEdge("", 1, v4, v30);
g.insertEdge("", 1, v1, v18);
g.insertEdge("", 1, v4, v26);
g.insertEdge("", 1, v1, v8);
g.insertEdge("", 1, v3, v9);
g.insertEdge("", 1, v57, v60);
g.insertEdge("", 1, v25, v33);
g.insertEdge("", 1, v57, v50);
g.insertEdge("", 1, v1, v7);
g.insertEdge("", 1, v34, v35);
g.insertEdge("", 1, v27, v34);
g.insertEdge("", 1, v0, v2);
g.insertEdge("", 1, v4, v32);

var layout = new Layout(400, 400);
var canvas = new jsGraphics("canvas");

function paint() 
{
    var selection = document.getElementById("algo").selectedIndex-1;
    canvas.clear();
    switch (selection) {
        case 0:
            layout.doRandom(g); // Randomly layout the vertices
            break;
        case 1:
            layout.doCircular(g); // Layout the vertices evenly on a circle
            break;
        case 2:
            layout.doForceDirected(g, 400); // Fruchterman-Reingold algorithm
            break;
        case 3:
            layout.doRootedTree(g); // Hierarchycal layout
            break;
    }
    g.plot(canvas);
    canvas.paint();
}
//-->
</script> 
</body>
</html>